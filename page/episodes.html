<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حلقات Arcane - Netflix Series</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Custom Font -->
    <style>
        @font-face {
            font-family: 'GE Modern Bold';
            src: url('../fonts/GE Modern Bold.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }
    </style>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../style.css">
    
    <!-- Episodes Page Specific Styles -->
    <style>
        /* Seasons Posters Inline Styles */
        .seasons-posters {
            display: flex !important;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
            position: relative;
            z-index: 4;
        }

        .season-poster-inline {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            height: 180px;
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }

        .season-poster-inline:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }

        .season-poster-inline img {
            width: 100% !important;
            height: 100% !important;
            object-fit: cover;
            transition: all 0.3s ease;
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }

        .season-poster-inline:hover img {
            transform: scale(1.1);
        }

        .season-overlay-inline {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 100%);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .season-poster-inline:hover .season-overlay-inline {
            opacity: 1;
        }

        .season-info-inline {
            text-align: right;
        }

        .season-info-inline h4 {
            font-size: 18px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 5px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        .season-info-inline p {
            font-size: 14px;
            color: #ccc;
            margin: 0;
        }

        .season-play-btn-inline {
            width: 45px;
            height: 45px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .season-play-btn-inline:hover {
            background: #fff;
            transform: scale(1.1);
        }

        .season-play-btn-inline i {
            font-size: 16px;
            color: var(--bg-dark);
            margin-left: 2px;
        }

        .season-poster-inline.active {
            border: 2px solid #4A90E2;
            box-shadow: 0 0 25px rgba(74, 144, 226, 0.4);
        }

        /* Episodes Display Styles */
        .episode-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .episode-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .episode-thumbnail {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .episode-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .episode-card:hover .episode-thumbnail img {
            transform: scale(1.05);
        }

        .episode-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .episode-card:hover .episode-overlay {
            opacity: 1;
        }

        .play-button {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .play-button:hover {
            background: #fff;
            transform: scale(1.1);
        }

        .play-button i {
            font-size: 20px;
            color: #1a1a1a;
            margin-left: 3px;
        }

        .episode-number {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .episode-info {
            padding: 20px;
        }

        .episode-title {
            color: white;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .episode-description {
            color: #ccc;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .episode-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .episode-duration, .episode-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #ccc;
            font-size: 13px;
        }

        .episode-duration i {
            color: #4A90E2;
        }

        .episode-rating i {
            color: #f39c12;
        }

        /* Responsive Design for Inline Seasons */
        @media (max-width: 992px) {
            .seasons-posters {
                flex-direction: row;
                gap: 15px;
                justify-content: center;
                margin-top: 30px;
            }

            .season-poster-inline {
                flex: 1;
                max-width: 200px;
                height: 150px;
            }

            .season-info-inline h4 {
                font-size: 16px;
            }

            .season-info-inline p {
                font-size: 12px;
            }

            .season-play-btn-inline {
                width: 40px;
                height: 40px;
            }

            .season-play-btn-inline i {
                font-size: 14px;
            }
        }

        @media (max-width: 768px) {
            .seasons-posters {
                flex-direction: column;
                gap: 15px;
                margin-top: 30px;
            }

            .season-poster-inline {
                height: 120px;
                max-width: none;
            }

            .season-overlay-inline {
                padding: 15px;
            }

            .season-info-inline h4 {
                font-size: 14px;
            }

            .season-info-inline p {
                font-size: 11px;
            }

            .season-play-btn-inline {
                width: 35px;
                height: 35px;
            }

            .season-play-btn-inline i {
                font-size: 12px;
            }
        }

        .episode-info {
            padding: 25px;
        }

        .episode-title {
            color: var(--text-white);
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
            line-height: 1.3;
        }

        .episode-description {
            color: var(--text-muted);
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .episode-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            color: var(--text-muted);
        }

        .episode-duration {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .episode-duration i {
            color: #4A90E2;
        }

        .episode-rating {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .episode-rating i {
            color: #ffd700;
        }

        .season-info {
            text-align: center;
            margin-bottom: 40px;
        }

        .season-title {
            color: var(--text-white);
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .season-description {
            color: var(--text-muted);
            font-size: 16px;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.8;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .episodes-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .season-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .season-tab {
                width: 100%;
                max-width: 300px;
            }
            
            .season-title {
                font-size: 24px;
            }
        }

        /* Loading Animation */
        .loading-spinner {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left: 4px solid #4A90E2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <img src="../Banner/logo.png" alt="ARCANE" class="logo">
                <span class="divider">/</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../index.html">الرئيسية</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html#arcane-info">عن المسلسل</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html#spotify">الموسيقى</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html#characters">الشخصيات</a></li>
                    <li class="nav-item"><a class="nav-link active" href="episodes.html">الحلقات</a></li>
                </ul>
                
                <!-- Background Music Control -->
                <div class="navbar-music-control">
                    <button class="music-btn" id="musicToggle" onclick="simpleToggleMusic()" title="تشغيل/إيقاف الموسيقى">
                        <i class="fas fa-music" id="musicIcon"></i>
                    </button>
                    
                    <!-- Sound Visualizer -->
                    <div class="sound-visualizer">
                        <div class="sound-bar"></div>
                        <div class="sound-bar"></div>
                        <div class="sound-bar"></div>
                        <div class="sound-bar"></div>
                        <div class="sound-bar"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Background Music Audio Element -->
        <audio id="backgroundMusic" loop preload="auto">
            <source src="../mp3/Arcane Netflix Soundtrack _ Just A Taste _.mp3" type="audio/mpeg">
            <source src="../mp3/Arcane%20Netflix%20Soundtrack%20_%20Just%20A%20Taste%20_.mp3" type="audio/mpeg">
            متصفحك لا يدعم تشغيل الصوت.
        </audio>
    </nav>

    <!-- Episodes Hero Section -->
    <section class="episodes-hero-compact">
        <div class="hero-background-image"></div>
        <div class="hero-overlay"></div>
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-7">
                    <div class="hero-content-compact">
                        <div class="hero-badge-small">
                            <i class="fas fa-tv"></i>
                            <span>مسلسل Netflix الأصلي</span>
                        </div>
                        <h1 class="hero-title-compact">حلقات مسلسل Arcane</h1>
                        <p class="hero-description-compact">شاهد جميع حلقات المسلسل الملحمي المبني على عالم League of Legends</p>
                        
                        <div class="hero-info-compact">
                            <span class="info-item"><i class="fas fa-calendar"></i> 2021-2024</span>
                            <span class="info-item"><i class="fas fa-star"></i> 9.0</span>
                            <span class="info-item"><i class="fas fa-clock"></i> 18 حلقة</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-5" style="position: relative; z-index: 4;">
                    <div class="seasons-posters" style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px;">
                        <div class="season-poster-inline" data-season="1" style="background: rgba(0,0,0,0.3); margin-bottom: 15px;">
                            <img src="https://www.desktophut.com/images/thumb_1673738973_384901.jpg" alt="الموسم الأول" style="border-radius: 10px;">
                            <div class="season-overlay-inline">
                                <div class="season-info-inline">
                                    <h4>الموسم الأول</h4>
                                    <p>9 حلقات • 2021</p>
                                </div>
                                <div class="season-play-btn-inline">
                                    <i class="fas fa-play"></i>
                                </div>
                            </div>
                        </div>
                        <div class="season-poster-inline" data-season="2" style="background: rgba(0,0,0,0.3);">
                            <img src="https://image-proxy.bo3.gg/uploads/news/69913/title_image/webp-ffc34da9f38056db71fa94a34ac7083c.webp.webp?w=1248&h=624" alt="الموسم الثاني" style="border-radius: 10px;">
                            <div class="season-overlay-inline">
                                <div class="season-info-inline">
                                    <h4>الموسم الثاني</h4>
                                    <p>6 حلقات • 2024</p>
                                </div>
                                <div class="season-play-btn-inline">
                                    <i class="fas fa-play"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>





    <!-- Episodes Section -->
    <section class="episodes-section-compact">
        <div class="container">
            <div class="episodes-header-compact">
                <div class="episodes-header">
                    <h2 class="section-title">الحلقات</h2>
                    <p class="section-subtitle">استمتع بمشاهدة مغامرات Vi و Jinx</p>
                </div>
                <div class="season-selector-simple">
                    <select class="season-select" id="seasonSelect">
                        <option value="1">الموسم الأول</option>
                        <option value="2">الموسم الثاني</option>
                    </select>
                    <div class="episodes-count" id="episodesCount">9 حلقات</div>
                </div>
            </div>
            
            <div class="episodes-container" id="episodesGrid">
                <!-- Episodes will be loaded here dynamically -->
                <div class="loading-container">
                    <div class="loading-animation">
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                    </div>
                    <p class="loading-text">جاري تحميل الحلقات...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    

    
    <!-- Episodes Data and Functionality -->
    <script>
        // Episodes data
        const episodesData = {
            1: [
                {
                    number: 1,
                    title: "1. مرحبًا بكم في ساحة اللعب",
                    description: "في أعماق زاون، تحارب مجموعة من الأطفال من أجل البقاء بينما تنمو القوى في بيلتوفر.",
                    duration: "41 دقيقة",
                    rating: "9.2",
                    thumbnail: "https://occ-0-2774-2773.1.nflxso.net/dnm/api/v6/9pS1daC2n6UGc3dUogvWIPMR_OU/AAAABTWnu4isOpVMhQYNjC2Z9hAUH6rcI_PKo21nZ8-Cp2R7AY3EKj54kdNTEmXtYZRaPyf21x1PzBdl9U9wTQcXo-xu3nnDZR-z9rLbRZtcaokMlfdiE1jarl1n.jpg?r=4bd",
                    videoPath: "C:\\Users\\7arbe\\OneDrive\\Desktop\\Arcane\\episode\\s1\\episode 1.mp4"
                },
                {
                    number: 2,
                    title: "بعض الألغاز من الأفضل أن تبقى مجهولة",
                    description: "في خضم اضطرابات سياسية، تسعى vi للعثور على أختها المفقودة، بينما يكافح جايس وفيكتور لإثبات نظريتهما.",
                    duration: "40 دقيقة",
                    rating: "9.0",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2021/11/Arcane-episode-2-5b8a24d.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 3,
                    title: "الأساس فوق كل شيء",
                    description: "تصبح vi أكثر يأساً للعثور على باودر، بينما يحاول جايس وفيكتور إقناع المجلس بدعم أبحاثهما.",
                    duration: "44 دقيقة",
                    rating: "9.1",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2021/11/Arcane-episode-3-34fd89c.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 4,
                    title: "السعادة مصنوعة يدوياً",
                    description: "تكافح vi في عالم جديد، بينما تواجه جينكس هويتها المتغيرة تحت رعاية سيلكو.",
                    duration: "41 دقيقة",
                    rating: "8.9",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2021/11/Arcane-episode-4-b8c3f12.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 5,
                    title: "عندما تشرق هذه الأنوار",
                    description: "تستعد vi وجينكس لمواجهة محتملة، بينما يكشف جايس وفيكتور عن اختراعهما الثوري.",
                    duration: "41 دقيقة",
                    rating: "9.3",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2021/11/Arcane-episode-5-df4e8a1.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 6,
                    title: "عندما تضيء هذه الأنوار",
                    description: "تصل vi وجينكس أخيراً إلى نقطة اللاعودة، بينما يواجه جايس عواقب أفعاله.",
                    duration: "42 دقيقة",
                    rating: "9.4",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2021/11/Arcane-episode-6-a3d2f45.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 7,
                    title: "الفتى المدلل",
                    description: "في أعقاب الكشف المدمر، تكافح vi مع الحقيقة حول أختها، بينما يتعامل جايس مع المسؤولية.",
                    duration: "43 دقيقة",
                    rating: "9.0",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2021/11/Arcane-episode-7-c2e1b89.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 8,
                    title: "النفط والماء",
                    description: "تتصاعد التوترات بين زاون وبيلتوفر، بينما تستعد الشخصيات لمعركة حاسمة.",
                    duration: "44 دقيقة",
                    rating: "9.2",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2021/11/Arcane-episode-8-f5a8c34.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 9,
                    title: "الوحش",
                    description: "في الحلقة الأخيرة من الموسم، تصل جميع القصص إلى ذروتها المأساوية والمدمرة.",
                    duration: "41 دقيقة",
                    rating: "9.5",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2021/11/Arcane-episode-9-b8f2d67.jpg?quality=90&webp=true&resize=1000,563"
                }
            ],
            2: [
                {
                    number: 1,
                    title: "الثقيل هو التاج",
                    description: "في أعقاب الهجوم المدمر، تواجه بيلتوفر وزاون عواقب أفعال جينكس المدمرة.",
                    duration: "47 دقيقة",
                    rating: "9.1",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2024/11/Arcane-s2-ep1-b7f3e12.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 2,
                    title: "احترق الجسر",
                    description: "تزداد التوترات بين المدينتين، بينما تكافح الشخصيات مع عواقب اختياراتهم.",
                    duration: "45 دقيقة",
                    rating: "9.0",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2024/11/Arcane-s2-ep2-d4c8a55.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 3,
                    title: "أخيراً حصلت على اسم",
                    description: "تتطور الشخصيات وتواجه تحديات جديدة في عالم يزداد تعقيداً.",
                    duration: "44 دقيقة",
                    rating: "8.9",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2024/11/Arcane-s2-ep3-f1a9b33.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 4,
                    title: "رسم أقواس",
                    description: "تستمر القصة في التطور مع مواجهات جديدة ومفاجآت غير متوقعة.",
                    duration: "46 دقيقة",
                    rating: "9.2",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2024/11/Arcane-s2-ep4-e7b2d88.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 5,
                    title: "بريق الندى",
                    description: "تصل التوترات إلى نقطة الغليان مع تطورات درامية مذهلة.",
                    duration: "45 دقيقة",
                    rating: "9.3",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2024/11/Arcane-s2-ep5-a3f5c99.jpg?quality=90&webp=true&resize=1000,563"
                },
                {
                    number: 6,
                    title: "الرسالة المخفية في صمت الحرب",
                    description: "يكشف الموسم الثاني عن أسرار جديدة ويقدم نهاية مذهلة للمسلسل.",
                    duration: "48 دقيقة",
                    rating: "9.4",
                    thumbnail: "https://images.immediate.co.uk/production/volatile/sites/3/2024/11/Arcane-s2-ep6-c8d1f44.jpg?quality=90&webp=true&resize=1000,563"
                }
            ]
        };



        let currentSeason = 1;

        // Load episodes for current season
        function loadEpisodes(season) {
            const grid = document.getElementById('episodesGrid');
            const episodes = episodesData[season];
            
            if (!episodes) {
                grid.innerHTML = '<div class="loading-spinner"><div class="spinner"></div></div>';
                return;
            }

            grid.innerHTML = '';
            
            episodes.forEach(episode => {
                const episodeCard = `
                    <div class="episode-card" data-episode="${episode.number}">
                        <div class="episode-thumbnail">
                            <img src="${episode.thumbnail}" alt="حلقة ${episode.number}" loading="lazy">
                            <div class="episode-overlay">
                                <button class="play-button" onclick="playEpisode(${season}, ${episode.number})">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                            <div class="episode-number">حلقة ${episode.number}</div>
                        </div>
                        <div class="episode-info">
                            <h3 class="episode-title">${episode.title}</h3>
                            <p class="episode-description">${episode.description}</p>
                            <div class="episode-meta">
                                <div class="episode-duration">
                                    <i class="fas fa-clock"></i>
                                    ${episode.duration}
                                </div>
                                <div class="episode-rating">
                                    <i class="fas fa-star"></i>
                                    ${episode.rating}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                grid.innerHTML += episodeCard;
            });
        }



        // Update season info modern
        function updateSeasonInfoModern(season) {
            const episodes = episodesData[season];
            const countElement = document.getElementById('episodesCount');
            
            if (countElement) {
                countElement.textContent = `${episodes.length} حلقات`;
            }
        }

        // Load episodes with simple display
        function loadEpisodesModern(season) {
            const container = document.getElementById('episodesGrid');
            const episodes = episodesData[season];
            
            container.innerHTML = '<div class="loading-container"><div class="loading-animation"><div class="loading-dot"></div><div class="loading-dot"></div><div class="loading-dot"></div></div><p class="loading-text">جاري تحميل الحلقات...</p></div>';
            
            setTimeout(() => {
                container.innerHTML = '';
                episodes.forEach(episode => {
                    const episodeCard = `
                        <div class="episode-card" data-episode="${episode.number}">
                            <div class="episode-thumbnail">
                                <img src="${episode.thumbnail}" alt="حلقة ${episode.number}" loading="lazy">
                                <div class="episode-overlay">
                                    <button class="play-button" onclick="playEpisode(${season}, ${episode.number})">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                                <div class="episode-number">${episode.number}</div>
                            </div>
                            <div class="episode-info">
                                <h3 class="episode-title">${episode.title}</h3>
                                <p class="episode-description">${episode.description}</p>
                                <div class="episode-meta">
                                    <div class="episode-duration">
                                        <i class="fas fa-clock"></i>
                                        ${episode.duration}
                                    </div>
                                    <div class="episode-rating">
                                        <i class="fas fa-star"></i>
                                        ${episode.rating}
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += episodeCard;
                });
                updateSeasonInfoModern(season);
            }, 300);
        }
        


        // Play episode function
        function playEpisode(season, episodeNumber) {
            const episodeData = episodesData[season].find(ep => ep.number === episodeNumber);
            
            // Check if it's episode 1 of season 1 (has local video)
            if (season === 1 && episodeNumber === 1 && episodeData && episodeData.videoPath) {
                // Create video player modal
                createVideoModal(episodeData);
            } else {
                // For other episodes, redirect to Netflix
                const netflixUrl = `https://www.netflix.com/eg/title/81435684`;
                window.open(netflixUrl, '_blank');
                showNotification(`بدء تشغيل حلقة ${episodeNumber} - الموسم ${season}`);
            }
        }
        
        // Simple video player
        function createVideoModal(episode) {
            const existingModal = document.querySelector('.simple-video-modal');
            if (existingModal) {
                existingModal.remove();
            }
            
            let videoUrl = episode.videoPath;
            if (videoUrl && videoUrl.includes('C:\\')) {
                videoUrl = videoUrl.replace(/\\/g, '/');
                videoUrl = 'file:///' + videoUrl;
            }
            
            const modal = document.createElement('div');
            modal.className = 'simple-video-modal';
            modal.innerHTML = `
                <div class="simple-video-container">
                    <div class="video-header">
                        <h3>${episode.title}</h3>
                        <button class="close-btn" onclick="closeSimpleVideoModal()">&times;</button>
                    </div>
                    <video controls autoplay class="simple-video-player">
                        <source src="${videoUrl || 'http://localhost:8000/episode/s1/episode%201.mp4'}" type="video/mp4">
                        <p>عذراً، لا يمكن تشغيل الفيديو.</p>
                    </video>
                </div>
            `;
            
            // Add simple styles
            const styles = document.createElement('style');
            styles.textContent = `
                .simple-video-modal {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.9);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 10000;
                }
                
                .simple-video-container {
                    width: 90%;
                    max-width: 900px;
                    background: #1a1a1a;
                    border-radius: 8px;
                    overflow: hidden;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                }
                
                .video-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 15px 20px;
                    background: #333;
                    color: white;
                }
                
                .video-header h3 {
                    margin: 0;
                    font-size: 18px;
                }
                
                .close-btn {
                    background: none;
                    border: none;
                    color: white;
                    font-size: 28px;
                    cursor: pointer;
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 50%;
                    transition: background 0.2s;
                }
                
                .close-btn:hover {
                    background: rgba(255, 255, 255, 0.1);
                }
                
                .simple-video-player {
                    width: 100%;
                    height: auto;
                    display: block;
                    background: #000;
                }
                
                @media (max-width: 768px) {
                    .simple-video-container {
                        width: 95%;
                        margin: 20px;
                    }
                }
            `;
            
            document.head.appendChild(styles);
            document.body.appendChild(modal);
            
            // Add escape key listener
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeSimpleVideoModal();
                }
            });
            
            showNotification(`تشغيل ${episode.title}`);
        }
        
        // Close simple video modal
        function closeSimpleVideoModal() {
            const modal = document.querySelector('.simple-video-modal');
            if (modal) {
                const video = modal.querySelector('video');
                if (video) video.pause();
                modal.remove();
            }
        }

        // Show simple notification
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = 'position: fixed; top: 100px; right: 20px; background: #4A90E2; color: white; padding: 15px 25px; border-radius: 8px; z-index: 9999;';
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => document.body.removeChild(notification), 3000);
        }

        // Season selector functionality
        document.addEventListener('DOMContentLoaded', function() {
            const seasonSelect = document.getElementById('seasonSelect');
            
            if (seasonSelect) {
                seasonSelect.addEventListener('change', function() {
                    const season = parseInt(this.value);
                    
                    // Update content
                    currentSeason = season;
                    updateSeasonInfoModern(season);
                    loadEpisodesModern(season);
                    updateSeasonPosterActive(season);
                });
            }
            
            // Season posters functionality
            document.querySelectorAll('.season-poster-inline').forEach(poster => {
                poster.addEventListener('click', function() {
                    const season = parseInt(this.dataset.season);
                    
                    // Update current season
                    currentSeason = season;
                    
                    // Update season selector
                    if (seasonSelect) {
                        seasonSelect.value = season;
                    }
                    
                    // Update active poster
                    updateSeasonPosterActive(season);
                    
                    // Load episodes for selected season
                    updateSeasonInfoModern(season);
                    loadEpisodesModern(season);
                    
                    // Scroll to episodes section
                    document.querySelector('.episodes-section-compact').scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                });
            });
            
            // Filter buttons functionality
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filter = this.dataset.filter;
                    // Apply filter logic here
                });
            });
            
            // Load initial content
            setTimeout(() => {
                loadEpisodesModern(currentSeason);
                updateSeasonInfoModern(currentSeason);
                updateSeasonPosterActive(currentSeason);
            }, 500);
        });
        
        // Update active season poster
        function updateSeasonPosterActive(season) {
            document.querySelectorAll('.season-poster-inline').forEach(poster => {
                poster.classList.remove('active');
            });
            const activePoster = document.querySelector(`.season-poster-inline[data-season="${season}"]`);
            if (activePoster) {
                activePoster.classList.add('active');
            }
        }
    </script>
    
    <!-- Custom JS -->
    <script src="../script.js"></script>
</body>
</html>